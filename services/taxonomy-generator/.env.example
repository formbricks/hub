# =============================================================================
# Taxonomy Generator - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Required
# -----------------------------------------------------------------------------

# PostgreSQL connection string (same database as Hub API)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/test_db

# OpenAI API key for GPT-4o labeling and embedding generation
OPENAI_API_KEY=sk-your-api-key-here

# -----------------------------------------------------------------------------
# UMAP Settings (Dimensionality Reduction)
# -----------------------------------------------------------------------------

# Target number of dimensions after reduction (default: 10)
# Higher = more detail preserved, lower = faster clustering
UMAP_N_COMPONENTS=10

# Number of neighbors for local structure (default: 15)
# Higher = more global structure, lower = more local detail
UMAP_N_NEIGHBORS=15

# Minimum distance between points in reduced space (default: 0.1)
# Lower = tighter clusters, higher = more spread out
UMAP_MIN_DIST=0.1

# Distance metric (default: cosine)
# Options: cosine, euclidean, manhattan
UMAP_METRIC=cosine

# -----------------------------------------------------------------------------
# HDBSCAN Settings (Clustering)
# -----------------------------------------------------------------------------

# Minimum number of points to form a cluster (default: 50)
# Higher = fewer, larger clusters; lower = more, smaller clusters
HDBSCAN_MIN_CLUSTER_SIZE=50

# Minimum samples in neighborhood for core points (default: 10)
# Higher = more conservative clustering, lower = more aggressive
HDBSCAN_MIN_SAMPLES=10

# Distance threshold for cluster selection (default: 0.0)
# Higher = merges nearby clusters
HDBSCAN_CLUSTER_SELECTION_EPSILON=0.0

# -----------------------------------------------------------------------------
# Clustering Limits
# -----------------------------------------------------------------------------

# Maximum embeddings to process per tenant (default: 100000)
MAX_EMBEDDINGS_PER_TENANT=100000

# Number of samples closest to centroid for LLM labeling (default: 10)
CENTROID_SAMPLE_SIZE=10

# -----------------------------------------------------------------------------
# API Settings
# -----------------------------------------------------------------------------

# Logging level: DEBUG, INFO, WARN, ERROR (default: INFO)
LOG_LEVEL=INFO

# API host (default: 0.0.0.0)
API_HOST=0.0.0.0

# API port (default: 8001)
API_PORT=8001
