"use strict";(globalThis.webpackChunk_formbricks_docs=globalThis.webpackChunk_formbricks_docs||[]).push([[907],{37678:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var i=s(39430);const r={},t=i.createContext(r);function d(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(t.Provider,{value:n},e.children)}},73242:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"core-concepts/data-model","title":"Data Model","description":"Hub uses a simple, powerful data model optimized for analytics. Each record represents one answer to one question, making it incredibly easy to query, aggregate, and visualize your experience data.","source":"@site/docs/core-concepts/data-model.md","sourceDirName":"core-concepts","slug":"/core-concepts/data-model","permalink":"/core-concepts/data-model","draft":false,"unlisted":false,"editUrl":"https://github.com/formbricks/hub/tree/main/apps/docs/docs/core-concepts/data-model.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start Guide","permalink":"/quickstart"},"next":{"title":"Authentication","permalink":"/core-concepts/authentication"}}');var r=s(25270),t=s(37678);const d={sidebar_position:1},l="Data Model",c={},o=[{value:"How It Works",id:"how-it-works",level:2},{value:"Example: Survey Response",id:"example-survey-response",level:3},{value:"Core Entity: ExperienceData",id:"core-entity-experiencedata",level:2},{value:"Complete Field Reference",id:"complete-field-reference",level:3},{value:"Core Identification",id:"core-identification",level:4},{value:"Source Tracking",id:"source-tracking",level:4},{value:"Question/Field Identification",id:"questionfield-identification",level:4},{value:"Response Values",id:"response-values",level:4},{value:"AI Enrichment (Automatic for <code>text</code> field types)",id:"ai-enrichment-automatic-for-text-field-types",level:4},{value:"Context &amp; Metadata",id:"context--metadata",level:4},{value:"Field Types",id:"field-types",level:3},{value:"Source Types",id:"source-types",level:3},{value:"Example Records",id:"example-records",level:2},{value:"NPS Response",id:"nps-response",level:3},{value:"Text Response with AI Enrichment",id:"text-response-with-ai-enrichment",level:3},{value:"G2 Review (Rating + Text)",id:"g2-review-rating--text",level:3},{value:"Multiple Choice Response (Multiple Rows)",id:"multiple-choice-response-multiple-rows",level:3},{value:"Database Indexes",id:"database-indexes",level:2},{value:"UUIDv7 Primary Keys",id:"uuidv7-primary-keys",level:2},{value:"JSONB Metadata",id:"jsonb-metadata",level:2},{value:"Common Metadata Patterns",id:"common-metadata-patterns",level:3},{value:"Querying JSONB",id:"querying-jsonb",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Validated Field Types",id:"1-use-validated-field-types",level:3},{value:"2. Match Field Types to Value Columns",id:"2-match-field-types-to-value-columns",level:3},{value:"3. Use Consistent Field IDs",id:"3-use-consistent-field-ids",level:3},{value:"4. Leverage AI Enrichment",id:"4-leverage-ai-enrichment",level:3},{value:"5. Multi-Select as Multiple Rows",id:"5-multi-select-as-multiple-rows",level:3},{value:"6. Anonymous User Identifiers",id:"6-anonymous-user-identifiers",level:3},{value:"7. Rich Metadata for Segmentation",id:"7-rich-metadata-for-segmentation",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"data-model",children:"Data Model"})}),"\n",(0,r.jsxs)(n.p,{children:["Hub uses a simple, powerful data model optimized for analytics. Each record represents ",(0,r.jsx)(n.strong,{children:"one answer to one question"}),", making it incredibly easy to query, aggregate, and visualize your experience data."]}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsx)(n.p,{children:'Every piece of feedback\u2014whether it\'s an NPS score, a text comment, or a multiple-choice selection\u2014is stored as an individual record. This "one row per response" approach unlocks powerful capabilities:'}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Query with standard SQL"})," - No complex JSON parsing or unnesting required",(0,r.jsx)(n.br,{}),"\n","\u2705 ",(0,r.jsx)(n.strong,{children:"Connect any BI tool"})," - Works seamlessly with Apache Superset, Power BI, Tableau, Looker",(0,r.jsx)(n.br,{}),"\n","\u2705 ",(0,r.jsx)(n.strong,{children:"Combine data sources"})," - Mix surveys, reviews, support tickets in a single query",(0,r.jsx)(n.br,{}),"\n","\u2705 ",(0,r.jsx)(n.strong,{children:"Analyze trends over time"})," - Built-in time-series indexing for fast date-based queries",(0,r.jsx)(n.br,{}),"\n","\u2705 ",(0,r.jsx)(n.strong,{children:"AI-enriched insights"})," - Automatic sentiment, emotion, and topic extraction for text feedback"]}),"\n",(0,r.jsx)(n.h3,{id:"example-survey-response",children:"Example: Survey Response"}),"\n",(0,r.jsx)(n.p,{children:"When a user completes a survey with an NPS score and a comment, Hub creates two records:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// Record 1: NPS score\n{\n  "source_id": "nps-2024",\n  "field_id": "nps_score",\n  "field_type": "nps",\n  "value_number": 9\n}\n\n// Record 2: Comment with AI enrichment\n{\n  "source_id": "nps-2024",\n  "field_id": "feedback_comment",\n  "field_type": "text",\n  "value_text": "Great service!",\n  "sentiment": "positive",\n  "emotion": "joy",\n  "topics": ["service_quality"]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"This structure makes it trivial to calculate your NPS score or find all negative sentiment across any source."}),"\n",(0,r.jsx)(n.h2,{id:"core-entity-experiencedata",children:"Core Entity: ExperienceData"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"ExperienceData"})," entity stores individual experience data points with optional AI enrichment for\nqualitative feedback."]}),"\n",(0,r.jsx)(n.h3,{id:"complete-field-reference",children:"Complete Field Reference"}),"\n",(0,r.jsx)(n.h4,{id:"core-identification",children:"Core Identification"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"id"})})}),(0,r.jsx)(n.td,{children:"UUIDv7"}),(0,r.jsx)(n.td,{children:"Auto"}),(0,r.jsx)(n.td,{children:"Time-ordered primary key for efficient indexing"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"collected_at"})})}),(0,r.jsx)(n.td,{children:"Timestamp"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"When the feedback was originally collected (defaults to now)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"created_at"})})}),(0,r.jsx)(n.td,{children:"Timestamp"}),(0,r.jsx)(n.td,{children:"Auto"}),(0,r.jsx)(n.td,{children:"When the record was created in the Hub"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"updated_at"})})}),(0,r.jsx)(n.td,{children:"Timestamp"}),(0,r.jsx)(n.td,{children:"Auto"}),(0,r.jsx)(n.td,{children:"When the record was last updated"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"source-tracking",children:"Source Tracking"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"source_type"})})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:'Type of source (e.g., "survey", "review", "support")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"source_id"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Reference to survey/form/ticket/review ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"source_name"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Human-readable source name for display"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"questionfield-identification",children:"Question/Field Identification"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"field_id"})})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"Unique question/field identifier (stable across submissions)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"field_label"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Question text or field label for display"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"field_type"})})}),(0,r.jsx)(n.td,{children:"Enum"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsxs)(n.td,{children:["Data type (see ",(0,r.jsx)(n.a,{href:"#field-types",children:"Field Types"})," below)"]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"response-values",children:"Response Values"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_text"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Text responses (feedback, comments, open-ended answers)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_number"})}),(0,r.jsx)(n.td,{children:"Float64"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Numeric responses (ratings, scores, NPS, CSAT)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_boolean"})}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Yes/no responses"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_date"})}),(0,r.jsx)(n.td,{children:"Timestamp"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Date/datetime responses"})]})]})]}),"\n",(0,r.jsxs)(n.h4,{id:"ai-enrichment-automatic-for-text-field-types",children:["AI Enrichment (Automatic for ",(0,r.jsx)(n.code,{children:"text"})," field types)"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sentiment"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Auto"}),(0,r.jsx)(n.td,{children:'Sentiment analysis: "positive", "negative", "neutral", "mixed"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sentiment_score"})}),(0,r.jsx)(n.td,{children:"Float64"}),(0,r.jsx)(n.td,{children:"Auto"}),(0,r.jsx)(n.td,{children:"Sentiment confidence score: -1.0 (negative) to 1.0 (positive)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"emotion"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Auto"}),(0,r.jsx)(n.td,{children:'Primary emotion: "joy", "frustration", "anger", "confusion", etc.'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"topics"})}),(0,r.jsx)(n.td,{children:"String[]"}),(0,r.jsx)(n.td,{children:"Auto"}),(0,r.jsx)(n.td,{children:'Extracted topics/themes (e.g., ["pricing", "ui_design", "support"])'})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"context--metadata",children:"Context & Metadata"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"metadata"})}),(0,r.jsx)(n.td,{children:"JSONB"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Flexible context (device, location, campaign, custom fields)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"language"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:'ISO 639-1 language code (e.g., "en", "de", "fr")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_identifier"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Anonymous user ID for tracking (hashed, never PII)"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"field-types",children:"Field Types"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"field_type"})," field uses ",(0,r.jsx)(n.strong,{children:"validated enums"})," to categorize responses and determine which\n",(0,r.jsx)(n.code,{children:"value_*"})," field to use. Hub enforces these 8 standardized types optimized for analytics:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Value Field"}),(0,r.jsx)(n.th,{children:"AI Enrichment"}),(0,r.jsx)(n.th,{children:"Analytics Use"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"text"})})}),(0,r.jsx)(n.td,{children:"Open-ended qualitative feedback"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_text"})}),(0,r.jsxs)(n.td,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Yes"})]}),(0,r.jsx)(n.td,{children:"Sentiment trends, topic analysis, word clouds"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"categorical"})})}),(0,r.jsx)(n.td,{children:"Pre-defined discrete options"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_text"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"Frequency distribution, most popular choices"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"nps"})})}),(0,r.jsx)(n.td,{children:"Net Promoter Score (0-10)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_number"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"NPS calculation, promoter/detractor segmentation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"csat"})})}),(0,r.jsx)(n.td,{children:"Customer Satisfaction (1-5 or 1-7)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_number"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"Average satisfaction, benchmarking"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"rating"})})}),(0,r.jsx)(n.td,{children:"Generic rating scale"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_number"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"Average rating, distribution, star ratings"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"number"})})}),(0,r.jsx)(n.td,{children:"Quantitative measurements"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_number"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"Sum, average, min/max, aggregations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"boolean"})})}),(0,r.jsx)(n.td,{children:"Binary yes/no responses"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_boolean"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"True/false counts, percentages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"date"})})}),(0,r.jsx)(n.td,{children:"Temporal values"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_date"})}),(0,r.jsx)(n.td,{children:"\u274c No"}),(0,r.jsx)(n.td,{children:"Time-series analysis, date filtering"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{title:"AI Enrichment",type:"tip",children:(0,r.jsxs)(n.p,{children:["Only ",(0,r.jsx)(n.code,{children:"text"})," field types are automatically enriched with AI-powered sentiment, emotion, and topic extraction. This happens asynchronously after data is saved, optimizing costs and performance. ",(0,r.jsx)(n.a,{href:"./ai-enrichment",children:"Learn more about AI enrichment \u2192"})]})}),"\n",(0,r.jsxs)(n.admonition,{title:"Why These 8 Types?",type:"info",children:[(0,r.jsx)(n.p,{children:"These types cover 95% of experience management use cases while keeping the model simple. They map directly to common analytics patterns:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Qualitative"}),": ",(0,r.jsx)(n.code,{children:"text"})," \u2192 AI analysis for themes and sentiment"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Quantitative"}),": ",(0,r.jsx)(n.code,{children:"nps"}),", ",(0,r.jsx)(n.code,{children:"csat"}),", ",(0,r.jsx)(n.code,{children:"rating"}),", ",(0,r.jsx)(n.code,{children:"number"})," \u2192 Statistical aggregations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Categorical"}),": ",(0,r.jsx)(n.code,{children:"categorical"})," \u2192 Frequency and distribution analysis"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Binary/Temporal"}),": ",(0,r.jsx)(n.code,{children:"boolean"}),", ",(0,r.jsx)(n.code,{children:"date"})," \u2192 Filtering and segmentation"]}),"\n"]})]}),"\n",(0,r.jsx)(n.h3,{id:"source-types",children:"Source Types"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"source_type"})," field identifies where the experience data originated:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Typical Use"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"survey"})}),(0,r.jsx)(n.td,{children:"Survey responses"}),(0,r.jsx)(n.td,{children:"General surveys"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nps_campaign"})}),(0,r.jsx)(n.td,{children:"NPS campaigns"}),(0,r.jsx)(n.td,{children:"Net Promoter Score tracking"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"review"})}),(0,r.jsx)(n.td,{children:"Product/service reviews"}),(0,r.jsx)(n.td,{children:"App Store, Google Play, Trustpilot"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"feedback_form"})}),(0,r.jsx)(n.td,{children:"General feedback"}),(0,r.jsx)(n.td,{children:"Contact forms, feedback widgets"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"support"})}),(0,r.jsx)(n.td,{children:"Support tickets"}),(0,r.jsx)(n.td,{children:"Zendesk, Intercom satisfaction"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"social"})}),(0,r.jsx)(n.td,{children:"Social media"}),(0,r.jsx)(n.td,{children:"Twitter mentions, Reddit posts"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"interview"})}),(0,r.jsx)(n.td,{children:"User interviews"}),(0,r.jsx)(n.td,{children:"Qualitative research"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"usability_test"})}),(0,r.jsx)(n.td,{children:"UX testing"}),(0,r.jsx)(n.td,{children:"Task completion feedback"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{title:"Custom Source Types",type:"tip",children:(0,r.jsxs)(n.p,{children:["Source types are free-form strings. Define your own like ",(0,r.jsx)(n.code,{children:"app_store_review"}),", ",(0,r.jsx)(n.code,{children:"zendesk_csat"}),", or ",(0,r.jsx)(n.code,{children:"slack_pulse"})," to match your data sources."]})}),"\n",(0,r.jsx)(n.h2,{id:"example-records",children:"Example Records"}),"\n",(0,r.jsx)(n.h3,{id:"nps-response",children:"NPS Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "source_type": "survey",\n  "source_id": "q1-2025-nps",\n  "source_name": "Q1 2025 Customer NPS",\n  "field_id": "nps_score",\n  "field_label": "How likely are you to recommend us?",\n  "field_type": "nps",\n  "value_number": 9,\n  "metadata": {\n    "campaign_id": "email-blast-001",\n    "customer_segment": "enterprise",\n    "country": "US"\n  },\n  "user_identifier": "user-abc-123",\n  "collected_at": "2025-01-15T10:30:00Z"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"text-response-with-ai-enrichment",children:"Text Response with AI Enrichment"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "source_type": "survey",\n  "source_id": "onboarding-survey-v2",\n  "field_id": "q3_improvements",\n  "field_label": "What could we improve?",\n  "field_type": "text",\n  "value_text": "The dashboard is confusing for new users, but the support team was very helpful!",\n  "language": "en",\n  "sentiment": "mixed",\n  "sentiment_score": 0.2,\n  "emotion": "hopeful",\n  "topics": ["ui_design", "customer_support", "onboarding"],\n  "metadata": {\n    "device": "mobile",\n    "app_version": "2.1.4"\n  },\n  "user_identifier": "user-xyz-789",\n  "collected_at": "2025-01-15T10:32:15Z"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"g2-review-rating--text",children:"G2 Review (Rating + Text)"}),"\n",(0,r.jsxs)(n.p,{children:["A single G2 review creates ",(0,r.jsx)(n.strong,{children:"two rows"})," - one for the rating, one for the review text:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// Row 1: Rating\n{\n  "source_type": "review",\n  "source_id": "g2-review-12345",\n  "source_name": "G2 Reviews",\n  "field_id": "overall_rating",\n  "field_label": "Overall Rating",\n  "field_type": "rating",\n  "value_number": 4.5,\n  "metadata": {\n    "platform": "g2",\n    "product": "formbricks",\n    "reviewer_title": "Product Manager"\n  },\n  "collected_at": "2025-01-10T08:00:00Z"\n}\n\n// Row 2: Review text (AI enriched)\n{\n  "source_type": "review",\n  "source_id": "g2-review-12345",\n  "source_name": "G2 Reviews",\n  "field_id": "review_text",\n  "field_label": "Review",\n  "field_type": "text",\n  "value_text": "Great open-source tool! The privacy features are excellent, though the documentation could be more detailed.",\n  "sentiment": "positive",\n  "sentiment_score": 0.7,\n  "emotion": "satisfied",\n  "topics": ["open_source", "privacy", "documentation"],\n  "metadata": {\n    "platform": "g2",\n    "product": "formbricks",\n    "reviewer_title": "Product Manager"\n  },\n  "collected_at": "2025-01-10T08:00:00Z"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"multiple-choice-response-multiple-rows",children:"Multiple Choice Response (Multiple Rows)"}),"\n",(0,r.jsxs)(n.p,{children:["When a user selects multiple options, each choice becomes a ",(0,r.jsx)(n.strong,{children:"separate row"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// User selected "Dashboards", "Reports", and "Alerts"\n\n// Row 1\n{\n  "source_type": "survey",\n  "source_id": "product-feedback-2025",\n  "field_id": "features_used",\n  "field_label": "Which features do you use?",\n  "field_type": "categorical",\n  "value_text": "Dashboards",\n  "user_identifier": "user-qwe-456",\n  "collected_at": "2025-01-12T14:22:00Z"\n}\n\n// Row 2\n{\n  "source_type": "survey",\n  "source_id": "product-feedback-2025",\n  "field_id": "features_used",\n  "field_label": "Which features do you use?",\n  "field_type": "categorical",\n  "value_text": "Reports",\n  "user_identifier": "user-qwe-456",\n  "collected_at": "2025-01-12T14:22:00Z"\n}\n\n// Row 3\n{\n  "source_type": "survey",\n  "source_id": "product-feedback-2025",\n  "field_id": "features_used",\n  "field_label": "Which features do you use?",\n  "field_type": "categorical",\n  "value_text": "Alerts",\n  "user_identifier": "user-qwe-456",\n  "collected_at": "2025-01-12T14:22:00Z"\n}\n'})}),"\n",(0,r.jsxs)(n.admonition,{title:"Multi-Row Responses",type:"tip",children:[(0,r.jsx)(n.p,{children:'This "one row per selection" approach makes it trivial to count how many users selected each feature:'}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT value_text, COUNT(*) as user_count\nFROM experience_data\nWHERE field_id = 'features_used'\nGROUP BY value_text;\n"})})]}),"\n",(0,r.jsx)(n.h2,{id:"database-indexes",children:"Database Indexes"}),"\n",(0,r.jsx)(n.p,{children:"Hub automatically creates indexes for optimal query performance:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"source_type"})})," - Filter by feedback source (survey, review, support)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"source_id"})})," - Query specific surveys/forms"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"collected_at"})})," - Time-series queries and trending"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"field_type"})})," - Filter by question type"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"field_id"})})," - Group related questions across responses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"value_number"})})," - Numeric aggregations (averages, sums, counts)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"user_identifier"})})," - User-level journey analysis"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"sentiment"})})," - Filter by sentiment for AI-enriched text"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"emotion"})})," - Filter by emotion for qualitative analysis"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Query Performance",type:"tip",children:(0,r.jsx)(n.p,{children:"All indexes are created automatically via database migrations. The combination of UUIDv7 primary keys and strategic indexes ensures fast queries even with millions of records."})}),"\n",(0,r.jsx)(n.h2,{id:"uuidv7-primary-keys",children:"UUIDv7 Primary Keys"}),"\n",(0,r.jsxs)(n.p,{children:["Hub uses ",(0,r.jsx)(n.strong,{children:"UUIDv7"})," for primary keys, combining the benefits of UUIDs with time-ordered sorting:"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What you get:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Chronological sorting"})," - IDs sort by creation time automatically"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Fast database performance"})," - Better B-tree indexing than random UUIDs"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Globally unique"})," - No collision risk across distributed systems"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Horizontally scalable"})," - No need for central ID generation"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example UUIDv7:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"01932c8a-8b9e-7000-8000-000000000001\n\u2514\u2500 timestamp \u2500\u2518 \u2514\u2500\u2500 random \u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.p,{children:"The timestamp prefix means newer records naturally have larger IDs, improving both query performance and ordering."}),"\n",(0,r.jsx)(n.h2,{id:"jsonb-metadata",children:"JSONB Metadata"}),"\n",(0,r.jsxs)(n.p,{children:["Hub uses PostgreSQL's ",(0,r.jsx)(n.code,{children:"JSONB"})," type for flexible contextual data storage in the ",(0,r.jsx)(n.code,{children:"metadata"})," field.\nThis allows you to attach any custom attributes to your experience data without schema changes."]}),"\n",(0,r.jsx)(n.h3,{id:"common-metadata-patterns",children:"Common Metadata Patterns"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "metadata": {\n    // Device & Platform\n    "device": "mobile",\n    "os": "iOS 17.2",\n    "browser": "Safari 17",\n    "screen_size": "390x844",\n\n    // Location\n    "country": "US",\n    "region": "California",\n    "timezone": "America/Los_Angeles",\n\n    // Campaign & Attribution\n    "campaign_id": "email-001",\n    "referrer": "email_campaign",\n    "utm_source": "newsletter",\n    "utm_campaign": "product_launch",\n\n    // Customer Context\n    "customer_tier": "enterprise",\n    "industry": "healthcare",\n    "team_size": "50-200",\n    "plan": "pro",\n\n    // Custom Fields\n    "feature_flags": ["new_ui", "ai_features"],\n    "session_duration": 1847,\n    "pages_viewed": 12\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"querying-jsonb",children:"Querying JSONB"}),"\n",(0,r.jsx)(n.p,{children:"PostgreSQL provides powerful operators for querying JSONB fields:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- Extract a specific key\nSELECT metadata->>'country' as country\nFROM experience_data\nWHERE source_type = 'survey';\n\n-- Filter by nested value\nSELECT * FROM experience_data\nWHERE metadata->'device' @> '\"mobile\"';\n\n-- Check if key exists\nSELECT * FROM experience_data\nWHERE metadata ? 'campaign_id';\n\n-- Filter by numeric value\nSELECT * FROM experience_data\nWHERE (metadata->>'session_duration')::int > 300;\n\n-- Array containment\nSELECT * FROM experience_data\nWHERE metadata->'feature_flags' @> '[\"ai_features\"]';\n"})}),"\n",(0,r.jsxs)(n.admonition,{title:"Best Practice: Consistent Keys",type:"tip",children:[(0,r.jsx)(n.p,{children:"Use snake_case naming and consistent key names across your metadata to make queries easier:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.code,{children:'"customer_tier"'})," (consistent)"]}),"\n",(0,r.jsxs)(n.li,{children:["\u274c ",(0,r.jsx)(n.code,{children:'"customerTier"'}),", ",(0,r.jsx)(n.code,{children:'"tier"'}),", ",(0,r.jsx)(n.code,{children:'"customer-tier"'})," (inconsistent)"]}),"\n"]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.postgresql.org/docs/current/functions-json.html",children:"Learn more in PostgreSQL JSONB docs \u2192"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"1-use-validated-field-types",children:"1. Use Validated Field Types"}),"\n",(0,r.jsx)(n.p,{children:"Always use one of the 8 standardized field types. The API will reject invalid types:"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Good:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "field_type": "text", // Valid enum\n  "field_type": "categorical", // Valid enum\n  "field_type": "nps" // Valid enum\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Will Fail:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "field_type": "openText", // Old name, now invalid\n  "field_type": "multiple_choice", // Not a valid enum\n  "field_type": "custom_scale" // Not a valid enum\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-match-field-types-to-value-columns",children:"2. Match Field Types to Value Columns"}),"\n",(0,r.jsxs)(n.p,{children:["Only populate the appropriate ",(0,r.jsx)(n.code,{children:"value_*"})," field based on ",(0,r.jsx)(n.code,{children:"field_type"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field Type"}),(0,r.jsx)(n.th,{children:"Correct Value Column"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"text"}),", ",(0,r.jsx)(n.code,{children:"categorical"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_text"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"Great product!"'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"nps"}),", ",(0,r.jsx)(n.code,{children:"csat"}),", ",(0,r.jsx)(n.code,{children:"rating"}),", ",(0,r.jsx)(n.code,{children:"number"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_number"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"9"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_boolean"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value_date"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"2025-01-15T10:00:00Z"'})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Good:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "field_type": "nps",\n  "value_number": 9\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Avoid:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "field_type": "nps",\n  "value_text": "9" // Wrong! Should be value_number\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-use-consistent-field-ids",children:"3. Use Consistent Field IDs"}),"\n",(0,r.jsx)(n.p,{children:"Keep field IDs stable across time for longitudinal analysis:"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Good:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "field_id": "nps_score", // Consistent\n  "field_id": "improvement_feedback" // Consistent\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Avoid:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "field_id": "nps_q1_2025", // Don\'t include time periods\n  "field_id": "question_1" // Too generic\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-leverage-ai-enrichment",children:"4. Leverage AI Enrichment"}),"\n",(0,r.jsxs)(n.p,{children:["For open-ended feedback, use ",(0,r.jsx)(n.code,{children:'field_type: "text"'})," to get automatic sentiment, emotion, and topic\nextraction:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "field_type": "text",\n  "value_text": "The UI is great but pricing is confusing"\n  // AI will automatically add:\n  // "sentiment": "mixed"\n  // "sentiment_score": 0.1\n  // "emotion": "confused"\n  // "topics": ["ui_design", "pricing"]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"5-multi-select-as-multiple-rows",children:"5. Multi-Select as Multiple Rows"}),"\n",(0,r.jsx)(n.p,{children:"For questions where users can select multiple options, create one row per selection:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'// Question: "Which features do you use?" (user selected 3 options)\n// Create 3 rows with the same source_id, field_id, but different value_text\n\n{"field_type": "categorical", "value_text": "Dashboards"},\n{"field_type": "categorical", "value_text": "Reports"},\n{"field_type": "categorical", "value_text": "Alerts"}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"6-anonymous-user-identifiers",children:"6. Anonymous User Identifiers"}),"\n",(0,r.jsx)(n.p,{children:"For privacy, use anonymous hashed IDs instead of PII:"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Good:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "user_identifier": "sha256:abc123def456"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Avoid:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "user_identifier": "john@example.com" // Never store PII\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"7-rich-metadata-for-segmentation",children:"7. Rich Metadata for Segmentation"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"metadata"})," for contextual attributes that enable deeper analysis:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "metadata": {\n    "customer_tier": "enterprise",\n    "plan": "pro",\n    "feature_flags": ["new_ui"],\n    "account_age_days": 450\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./ai-enrichment",children:"AI Enrichment"})," - Automatic sentiment and topic extraction"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./authentication",children:"Authentication"})," - Secure your API"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./webhooks",children:"Webhooks"})," - React to new data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../api-reference",children:"API Reference"})," - Explore all endpoints"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);