# Formbricks Hub Configuration
# Copy this file to .env and update the values as needed

# API Key for authentication (required)
# This key is used to authenticate requests to protected endpoints
# The server will fail to start if this is not set
API_KEY=your-secret-api-key-here

# Database connection URL (optional)
# Default: postgres://postgres:postgres@localhost:5432/test_db?sslmode=disable
# Format: postgres://username:password@host:port/database?sslmode=disable
DATABASE_URL=postgres://postgres:postgres@localhost:5432/test_db?sslmode=disable

# HTTP server port (optional)
# Default: 8080
PORT=8080

# Logging level (optional)
# Default: info
# Valid values: debug, info, warn, error
LOG_LEVEL=info

# =============================================================================
# Formbricks Polling Connector Configuration
# =============================================================================
# Used by the polling connector to fetch responses from Formbricks API

# Formbricks base URL (optional, for self-hosted instances)
# Default: https://app.formbricks.com
# Do not include /api/v1 or /api/v2 - these are added automatically
FORMBRICKS_BASE_URL=https://app.formbricks.com

# Formbricks API key (required for polling connector)
FORMBRICKS_POLLING_API_KEY=your-formbricks-api-key-here

# Formbricks Survey ID (required for polling connector)
# The survey ID to poll for responses
FORMBRICKS_SURVEY_ID=your-survey-id-here

# =============================================================================
# Formbricks Webhook Connector Configuration
# =============================================================================
# Used by the webhook connector to receive events from Formbricks
# Configure Formbricks to send webhooks to: POST /webhooks/formbricks?apiKey=<FORMBRICKS_WEBHOOK_API_KEY>

# API key for authenticating incoming Formbricks webhooks (required for webhook connector)
# This is YOUR key - you define it and configure it in Formbricks webhook settings
# Formbricks will include this in the webhook URL as a query parameter
FORMBRICKS_WEBHOOK_API_KEY=your-webhook-secret-key-here

# =============================================================================
# Typeform Polling Connector Configuration
# =============================================================================
# Used by the polling connector to fetch responses from Typeform API
# Note: Typeform is SaaS-only and cannot be self-hosted

# Typeform Personal Access Token (required for polling connector)
# Generate from: https://admin.typeform.com/account#/section/tokens
TYPEFORM_POLLING_API_KEY=your-typeform-access-token-here

# Typeform Form ID (required for polling connector)
# The form ID to poll for responses (found in your typeform URL: typeform.com/to/<form_id>)
TYPEFORM_FORM_ID=your-form-id-here

# =============================================================================
# Webhook Cache Configuration (Optional)
# =============================================================================
# Enable/disable webhook caching for performance optimization
# Default: false (caching disabled)
# Set to true to enable caching of webhook lookups per event type
WEBHOOK_CACHE_ENABLED=false

# Maximum number of cache entries (one per event type)
# Default: 100
# Increase if you have many event types
WEBHOOK_CACHE_SIZE=100

# Cache TTL (Time To Live) - how long entries stay in cache
# Default: 5m (5 minutes)
# Examples: "30s", "5m", "10m", "1h"
# Shorter TTL = more database queries but fresher data
# Longer TTL = fewer database queries but potentially stale data
WEBHOOK_CACHE_TTL=5m
